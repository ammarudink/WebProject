<div class="container py-5">
    <h2 class="mb-4 text-center">Shopping Cart</h2>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="cart-items">
                <!-- Cart items will be dynamically added here -->
            </tbody>
        </table>
    </div>
    <div class="text-end">
        <h4>Total: <span id="cart-total">0.00</span></h4>
        <button class="btn btn-success mt-3">Checkout</button>
    </div>
</div>
<script>
    var app = $.spapp({
        defaultView: "#cart",
        templateDir: "frontend/views/"
    });
    app.route({
        view: "cart",
        onReady: function() {
            renderCart(); 
            $(document).off("click", ".remove-from-cart").on("click", ".remove-from-cart", function() {
                let index = $(this).data("index");
                console.log("Removing product with index::", index);
                removeFromCart(index);
            });
            $(document).off("click", ".quantity-decrease").on("click", ".quantity-decrease", function() {
                let index = $(this).data("index");
                updateQuantity(index, -1);
            });
            $(document).off("click", ".quantity-increase").on("click", ".quantity-increase", function() {
                let index = $(this).data("index");
                updateQuantity(index, 1);
            });
        }
    });
    app.run();
</script>